"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/reviews";
exports.ids = ["pages/api/reviews"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Freviews&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Creviews%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Freviews&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Creviews%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_reviews_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\reviews\\index.js */ \"(api)/./pages/api/reviews/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_reviews_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_reviews_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/reviews\",\n        pathname: \"/api/reviews\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_reviews_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnJldmlld3MmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3Jldmlld3MlNUNpbmRleC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUM0RDtBQUM1RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsd0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlcmVudC1iYWNrZW5kLz83MWZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxccmV2aWV3c1xcXFxpbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Jldmlld3NcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9yZXZpZXdzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Freviews&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Creviews%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectDB: () => (/* binding */ connectDB)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env\");\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectDB() {\n    try {\n        if (cached.conn) {\n            console.log(\"Using cached MongoDB connection\");\n            return cached.conn;\n        }\n        console.log(\"Connecting to MongoDB...\");\n        console.log(\"MongoDB URI:\", MONGODB_URI.replace(/:[^:]*@/, \":****@\")); // Hide password in logs\n        const opts = {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n            maxPoolSize: 10,\n            serverSelectionTimeoutMS: 5000,\n            socketTimeoutMS: 45000\n        };\n        if (!cached.promise) {\n            cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts);\n        }\n        cached.conn = await cached.promise;\n        console.log(\"Successfully connected to MongoDB!\");\n        // Test the connection\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.db.admin().ping();\n        console.log(\"MongoDB connection is healthy (ping successful)\");\n        return cached.conn;\n    } catch (error) {\n        console.error(\"MongoDB connection error:\", {\n            name: error.name,\n            message: error.message,\n            code: error.code,\n            codeName: error.codeName\n        });\n        // Reset cache if connection fails\n        cached.promise = null;\n        cached.conn = null;\n        if (error.name === \"MongoServerSelectionError\") {\n            throw new Error(\"Could not connect to MongoDB. Please check:\\n\" + \"1. Your network connection\\n\" + \"2. MongoDB Atlas IP whitelist (add your current IP)\\n\" + \"3. MongoDB Atlas username and password\\n\" + \"For more details: https://www.mongodb.com/docs/atlas/security-whitelist/\");\n        }\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDRixXQUFXO0FBRTNDLElBQUksQ0FBQ0EsYUFBYTtJQUNoQixNQUFNLElBQUlHLE1BQU07QUFDbEI7QUFFQSxJQUFJQyxTQUFTQyxPQUFPTixRQUFRO0FBRTVCLElBQUksQ0FBQ0ssUUFBUTtJQUNYQSxTQUFTQyxPQUFPTixRQUFRLEdBQUc7UUFBRU8sTUFBTTtRQUFNQyxTQUFTO0lBQUs7QUFDekQ7QUFFTyxlQUFlQztJQUNwQixJQUFJO1FBQ0YsSUFBSUosT0FBT0UsSUFBSSxFQUFFO1lBQ2ZHLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU9OLE9BQU9FLElBQUk7UUFDcEI7UUFFQUcsUUFBUUMsR0FBRyxDQUFDO1FBQ1pELFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JWLFlBQVlXLE9BQU8sQ0FBQyxXQUFXLFlBQVksd0JBQXdCO1FBRS9GLE1BQU1DLE9BQU87WUFDWEMsaUJBQWlCO1lBQ2pCQyxvQkFBb0I7WUFDcEJDLGFBQWE7WUFDYkMsMEJBQTBCO1lBQzFCQyxpQkFBaUI7UUFDbkI7UUFFQSxJQUFJLENBQUNiLE9BQU9HLE9BQU8sRUFBRTtZQUNuQkgsT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsYUFBYVk7UUFDakQ7UUFFQVIsT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87UUFDbENFLFFBQVFDLEdBQUcsQ0FBQztRQUVaLHNCQUFzQjtRQUN0QixNQUFNWCwwREFBbUIsQ0FBQ3FCLEVBQUUsQ0FBQ0MsS0FBSyxHQUFHQyxJQUFJO1FBQ3pDYixRQUFRQyxHQUFHLENBQUM7UUFFWixPQUFPTixPQUFPRSxJQUFJO0lBQ3BCLEVBQUUsT0FBT2lCLE9BQU87UUFDZGQsUUFBUWMsS0FBSyxDQUFDLDZCQUE2QjtZQUN6Q0MsTUFBTUQsTUFBTUMsSUFBSTtZQUNoQkMsU0FBU0YsTUFBTUUsT0FBTztZQUN0QkMsTUFBTUgsTUFBTUcsSUFBSTtZQUNoQkMsVUFBVUosTUFBTUksUUFBUTtRQUMxQjtRQUVBLGtDQUFrQztRQUNsQ3ZCLE9BQU9HLE9BQU8sR0FBRztRQUNqQkgsT0FBT0UsSUFBSSxHQUFHO1FBRWQsSUFBSWlCLE1BQU1DLElBQUksS0FBSyw2QkFBNkI7WUFDOUMsTUFBTSxJQUFJckIsTUFDUixrREFDQSxpQ0FDQSwwREFDQSw2Q0FDQTtRQUVKO1FBRUEsTUFBTW9CO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlcmVudC1iYWNrZW5kLy4vbGliL21vbmdvZGIuanM/ZDkyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGluc2lkZSAuZW52Jyk7XHJcbn1cclxuXHJcbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdERCKCkge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGNhY2hlZCBNb25nb0RCIGNvbm5lY3Rpb24nKTtcclxuICAgICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW5nIHRvIE1vbmdvREIuLi4nKTtcclxuICAgIGNvbnNvbGUubG9nKCdNb25nb0RCIFVSSTonLCBNT05HT0RCX1VSSS5yZXBsYWNlKC86W146XSpALywgJzoqKioqQCcpKTsgLy8gSGlkZSBwYXNzd29yZCBpbiBsb2dzXHJcblxyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICAgIG1heFBvb2xTaXplOiAxMCxcclxuICAgICAgc2VydmVyU2VsZWN0aW9uVGltZW91dE1TOiA1MDAwLFxyXG4gICAgICBzb2NrZXRUaW1lb3V0TVM6IDQ1MDAwLFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIE1vbmdvREIhJyk7XHJcbiAgICBcclxuICAgIC8vIFRlc3QgdGhlIGNvbm5lY3Rpb25cclxuICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3Rpb24uZGIuYWRtaW4oKS5waW5nKCk7XHJcbiAgICBjb25zb2xlLmxvZygnTW9uZ29EQiBjb25uZWN0aW9uIGlzIGhlYWx0aHkgKHBpbmcgc3VjY2Vzc2Z1bCknKTtcclxuXHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ01vbmdvREIgY29ubmVjdGlvbiBlcnJvcjonLCB7XHJcbiAgICAgIG5hbWU6IGVycm9yLm5hbWUsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIGNvZGU6IGVycm9yLmNvZGUsXHJcbiAgICAgIGNvZGVOYW1lOiBlcnJvci5jb2RlTmFtZVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmVzZXQgY2FjaGUgaWYgY29ubmVjdGlvbiBmYWlsc1xyXG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xyXG4gICAgY2FjaGVkLmNvbm4gPSBudWxsO1xyXG5cclxuICAgIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29TZXJ2ZXJTZWxlY3Rpb25FcnJvcicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICdDb3VsZCBub3QgY29ubmVjdCB0byBNb25nb0RCLiBQbGVhc2UgY2hlY2s6XFxuJyArXHJcbiAgICAgICAgJzEuIFlvdXIgbmV0d29yayBjb25uZWN0aW9uXFxuJyArXHJcbiAgICAgICAgJzIuIE1vbmdvREIgQXRsYXMgSVAgd2hpdGVsaXN0IChhZGQgeW91ciBjdXJyZW50IElQKVxcbicgK1xyXG4gICAgICAgICczLiBNb25nb0RCIEF0bGFzIHVzZXJuYW1lIGFuZCBwYXNzd29yZFxcbicgK1xyXG4gICAgICAgICdGb3IgbW9yZSBkZXRhaWxzOiBodHRwczovL3d3dy5tb25nb2RiLmNvbS9kb2NzL2F0bGFzL3NlY3VyaXR5LXdoaXRlbGlzdC8nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJjb25uZWN0REIiLCJjb25zb2xlIiwibG9nIiwicmVwbGFjZSIsIm9wdHMiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJtYXhQb29sU2l6ZSIsInNlcnZlclNlbGVjdGlvblRpbWVvdXRNUyIsInNvY2tldFRpbWVvdXRNUyIsImNvbm5lY3QiLCJjb25uZWN0aW9uIiwiZGIiLCJhZG1pbiIsInBpbmciLCJlcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwiY29kZSIsImNvZGVOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api)/./models/Review.js":
/*!**************************!*\
  !*** ./models/Review.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst reviewSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    product_id: {\n        type: String,\n        required: [\n            true,\n            \"Product ID is required\"\n        ],\n        trim: true\n    },\n    user_id: {\n        type: String,\n        required: [\n            true,\n            \"User ID is required\"\n        ],\n        trim: true\n    },\n    rating: {\n        type: Number,\n        required: [\n            true,\n            \"Rating is required\"\n        ],\n        min: [\n            1,\n            \"Rating must be at least 1\"\n        ],\n        max: [\n            5,\n            \"Rating cannot be more than 5\"\n        ]\n    },\n    review_text: {\n        type: String,\n        required: [\n            true,\n            \"Review text is required\"\n        ],\n        trim: true,\n        minlength: [\n            10,\n            \"Review text must be at least 10 characters long\"\n        ]\n    },\n    images: [\n        {\n            type: String,\n            validate: {\n                validator: function(v) {\n                    return v.startsWith(\"http://\") || v.startsWith(\"https://\");\n                },\n                message: \"Image URL must be a valid URL\"\n            }\n        }\n    ],\n    helpful_count: {\n        type: Number,\n        default: 0,\n        min: [\n            0,\n            \"Helpful count cannot be negative\"\n        ]\n    },\n    user_measurements: {\n        waist: {\n            type: Number,\n            min: [\n                50,\n                \"Waist measurement must be at least 50cm\"\n            ],\n            max: [\n                150,\n                \"Waist measurement cannot be more than 150cm\"\n            ]\n        },\n        bust: {\n            type: Number,\n            min: [\n                50,\n                \"Bust measurement must be at least 50cm\"\n            ],\n            max: [\n                150,\n                \"Bust measurement cannot be more than 150cm\"\n            ]\n        },\n        hips: {\n            type: Number,\n            min: [\n                50,\n                \"Hips measurement must be at least 50cm\"\n            ],\n            max: [\n                150,\n                \"Hips measurement cannot be more than 150cm\"\n            ]\n        },\n        height: {\n            type: Number,\n            min: [\n                100,\n                \"Height must be at least 100cm\"\n            ],\n            max: [\n                250,\n                \"Height cannot be more than 250cm\"\n            ]\n        }\n    },\n    created_at: {\n        type: Date,\n        default: Date.now\n    },\n    updated_at: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    timestamps: {\n        createdAt: \"created_at\",\n        updatedAt: \"updated_at\"\n    }\n});\n// Middleware untuk memastikan updated_at selalu diupdate\nreviewSchema.pre(\"save\", function(next) {\n    this.updated_at = new Date();\n    next();\n});\n// Static method untuk mendapatkan statistik review\nreviewSchema.statics.getReviewStats = async function(productId) {\n    const stats = await this.aggregate([\n        {\n            $match: {\n                product_id: productId\n            }\n        },\n        {\n            $group: {\n                _id: null,\n                averageRating: {\n                    $avg: \"$rating\"\n                },\n                totalReviews: {\n                    $sum: 1\n                },\n                ratingDistribution: {\n                    $push: \"$rating\"\n                }\n            }\n        }\n    ]);\n    return stats[0] || {\n        averageRating: 0,\n        totalReviews: 0,\n        ratingDistribution: []\n    };\n};\nconst Review = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Review || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Review\", reviewSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Review);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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anM/YzJjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCByZXZpZXdTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICBwcm9kdWN0X2lkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnUHJvZHVjdCBJRCBpcyByZXF1aXJlZCddLFxuICAgICAgICB0cmltOiB0cnVlXG4gICAgfSxcbiAgICB1c2VyX2lkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXNlciBJRCBpcyByZXF1aXJlZCddLFxuICAgICAgICB0cmltOiB0cnVlXG4gICAgfSxcbiAgICByYXRpbmc6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdSYXRpbmcgaXMgcmVxdWlyZWQnXSxcbiAgICAgICAgbWluOiBbMSwgJ1JhdGluZyBtdXN0IGJlIGF0IGxlYXN0IDEnXSxcbiAgICAgICAgbWF4OiBbNSwgJ1JhdGluZyBjYW5ub3QgYmUgbW9yZSB0aGFuIDUnXVxuICAgIH0sXG4gICAgcmV2aWV3X3RleHQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdSZXZpZXcgdGV4dCBpcyByZXF1aXJlZCddLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgICAgICBtaW5sZW5ndGg6IFsxMCwgJ1JldmlldyB0ZXh0IG11c3QgYmUgYXQgbGVhc3QgMTAgY2hhcmFjdGVycyBsb25nJ11cbiAgICB9LFxuICAgIGltYWdlczogW3tcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IHYuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXNzYWdlOiAnSW1hZ2UgVVJMIG11c3QgYmUgYSB2YWxpZCBVUkwnXG4gICAgICAgIH1cbiAgICB9XSxcbiAgICBoZWxwZnVsX2NvdW50OiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgZGVmYXVsdDogMCxcbiAgICAgICAgbWluOiBbMCwgJ0hlbHBmdWwgY291bnQgY2Fubm90IGJlIG5lZ2F0aXZlJ11cbiAgICB9LFxuICAgIHVzZXJfbWVhc3VyZW1lbnRzOiB7XG4gICAgICAgIHdhaXN0OiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICBtaW46IFs1MCwgJ1dhaXN0IG1lYXN1cmVtZW50IG11c3QgYmUgYXQgbGVhc3QgNTBjbSddLFxuICAgICAgICAgICAgbWF4OiBbMTUwLCAnV2Fpc3QgbWVhc3VyZW1lbnQgY2Fubm90IGJlIG1vcmUgdGhhbiAxNTBjbSddXG4gICAgICAgIH0sXG4gICAgICAgIGJ1c3Q6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIG1pbjogWzUwLCAnQnVzdCBtZWFzdXJlbWVudCBtdXN0IGJlIGF0IGxlYXN0IDUwY20nXSxcbiAgICAgICAgICAgIG1heDogWzE1MCwgJ0J1c3QgbWVhc3VyZW1lbnQgY2Fubm90IGJlIG1vcmUgdGhhbiAxNTBjbSddXG4gICAgICAgIH0sXG4gICAgICAgIGhpcHM6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIG1pbjogWzUwLCAnSGlwcyBtZWFzdXJlbWVudCBtdXN0IGJlIGF0IGxlYXN0IDUwY20nXSxcbiAgICAgICAgICAgIG1heDogWzE1MCwgJ0hpcHMgbWVhc3VyZW1lbnQgY2Fubm90IGJlIG1vcmUgdGhhbiAxNTBjbSddXG4gICAgICAgIH0sXG4gICAgICAgIGhlaWdodDoge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgICAgbWluOiBbMTAwLCAnSGVpZ2h0IG11c3QgYmUgYXQgbGVhc3QgMTAwY20nXSxcbiAgICAgICAgICAgIG1heDogWzI1MCwgJ0hlaWdodCBjYW5ub3QgYmUgbW9yZSB0aGFuIDI1MGNtJ11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlZF9hdDoge1xuICAgICAgICB0eXBlOiBEYXRlLFxuICAgICAgICBkZWZhdWx0OiBEYXRlLm5vdyxcbiAgICB9LFxuICAgIHVwZGF0ZWRfYXQ6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gICAgfSxcbn0sIHtcbiAgICB0aW1lc3RhbXBzOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogJ2NyZWF0ZWRfYXQnLFxuICAgICAgICB1cGRhdGVkQXQ6ICd1cGRhdGVkX2F0J1xuICAgIH1cbn0pO1xuXG4vLyBNaWRkbGV3YXJlIHVudHVrIG1lbWFzdGlrYW4gdXBkYXRlZF9hdCBzZWxhbHUgZGl1cGRhdGVcbnJldmlld1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XG4gICAgdGhpcy51cGRhdGVkX2F0ID0gbmV3IERhdGUoKTtcbiAgICBuZXh0KCk7XG59KTtcblxuLy8gU3RhdGljIG1ldGhvZCB1bnR1ayBtZW5kYXBhdGthbiBzdGF0aXN0aWsgcmV2aWV3XG5yZXZpZXdTY2hlbWEuc3RhdGljcy5nZXRSZXZpZXdTdGF0cyA9IGFzeW5jIGZ1bmN0aW9uKHByb2R1Y3RJZCkge1xuICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5hZ2dyZWdhdGUoW1xuICAgICAgICB7ICRtYXRjaDogeyBwcm9kdWN0X2lkOiBwcm9kdWN0SWQgfSB9LFxuICAgICAgICB7XG4gICAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgICAgICBfaWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgYXZlcmFnZVJhdGluZzogeyAkYXZnOiAnJHJhdGluZycgfSxcbiAgICAgICAgICAgICAgICB0b3RhbFJldmlld3M6IHsgJHN1bTogMSB9LFxuICAgICAgICAgICAgICAgIHJhdGluZ0Rpc3RyaWJ1dGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAkcHVzaDogJyRyYXRpbmcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXSk7XG5cbiAgICByZXR1cm4gc3RhdHNbMF0gfHwge1xuICAgICAgICBhdmVyYWdlUmF0aW5nOiAwLFxuICAgICAgICB0b3RhbFJldmlld3M6IDAsXG4gICAgICAgIHJhdGluZ0Rpc3RyaWJ1dGlvbjogW11cbiAgICB9O1xufTtcblxuY29uc3QgUmV2aWV3ID0gbW9uZ29vc2UubW9kZWxzLlJldmlldyB8fCBtb25nb29zZS5tb2RlbCgnUmV2aWV3JywgcmV2aWV3U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUmV2aWV3O1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmV2aWV3U2NoZW1hIiwiU2NoZW1hIiwicHJvZHVjdF9pZCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJ1c2VyX2lkIiwicmF0aW5nIiwiTnVtYmVyIiwibWluIiwibWF4IiwicmV2aWV3X3RleHQiLCJtaW5sZW5ndGgiLCJpbWFnZXMiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsInYiLCJzdGFydHNXaXRoIiwibWVzc2FnZSIsImhlbHBmdWxfY291bnQiLCJkZWZhdWx0IiwidXNlcl9tZWFzdXJlbWVudHMiLCJ3YWlzdCIsImJ1c3QiLCJoaXBzIiwiaGVpZ2h0IiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJ1cGRhdGVkX2F0IiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInByZSIsIm5leHQiLCJzdGF0aWNzIiwiZ2V0UmV2aWV3U3RhdHMiLCJwcm9kdWN0SWQiLCJzdGF0cyIsImFnZ3JlZ2F0ZSIsIiRtYXRjaCIsIiRncm91cCIsIl9pZCIsImF2ZXJhZ2VSYXRpbmciLCIkYXZnIiwidG90YWxSZXZpZXdzIiwiJHN1bSIsInJhdGluZ0Rpc3RyaWJ1dGlvbiIsIiRwdXNoIiwiUmV2aWV3IiwibW9kZWxzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/Review.js\n");

/***/ }),

/***/ "(api)/./pages/api/reviews/index.js":
/*!************************************!*\
  !*** ./pages/api/reviews/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/mongodb */ \"(api)/./lib/mongodb.js\");\n/* harmony import */ var _models_Review__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/Review */ \"(api)/./models/Review.js\");\n/* harmony import */ var _utils_sizeSimilarity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/sizeSimilarity */ \"(api)/./utils/sizeSimilarity.js\");\n\n\n\n// Validasi input untuk review\nconst validateReviewInput = (data)=>{\n    const errors = [];\n    if (!data.product_id) errors.push(\"Product ID is required\");\n    if (!data.user_id) errors.push(\"User ID is required\");\n    if (!data.rating || data.rating < 1 || data.rating > 5) errors.push(\"Rating must be between 1 and 5\");\n    if (!data.review_text) errors.push(\"Review text is required\");\n    // Validasi measurements jika ada\n    if (data.user_measurements) {\n        const { waist, bust, hips, height } = data.user_measurements;\n        if (waist && (waist < 50 || waist > 150)) errors.push(\"Invalid waist measurement\");\n        if (bust && (bust < 50 || bust > 150)) errors.push(\"Invalid bust measurement\");\n        if (hips && (hips < 50 || hips > 150)) errors.push(\"Invalid hips measurement\");\n        if (height && (height < 100 || height > 250)) errors.push(\"Invalid height measurement\");\n    }\n    return errors;\n};\nasync function handler(req, res) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__.connectDB)();\n        switch(req.method){\n            case \"GET\":\n                const { page = 1, limit = 10, product_id, rating, sort = \"newest\", sizeSimilarity = \"false\", measurements } = req.query;\n                // Validasi parameter\n                const pageNum = parseInt(page);\n                const limitNum = Math.min(parseInt(limit), 100);\n                if (isNaN(pageNum) || pageNum < 1) {\n                    return res.status(400).json({\n                        success: false,\n                        message: \"Invalid page number\"\n                    });\n                }\n                if (isNaN(limitNum) || limitNum < 1) {\n                    return res.status(400).json({\n                        success: false,\n                        message: \"Invalid limit number\"\n                    });\n                }\n                // Build query\n                const query = {};\n                if (product_id) {\n                    query.product_id = product_id;\n                }\n                if (rating) {\n                    const ratingNum = parseInt(rating);\n                    if (!isNaN(ratingNum) && ratingNum >= 1 && ratingNum <= 5) {\n                        query.rating = ratingNum;\n                    }\n                }\n                // Build sort options\n                let sortOptions = {};\n                switch(sort){\n                    case \"newest\":\n                        sortOptions = {\n                            created_at: -1\n                        };\n                        break;\n                    case \"oldest\":\n                        sortOptions = {\n                            created_at: 1\n                        };\n                        break;\n                    case \"highest_rating\":\n                        sortOptions = {\n                            rating: -1,\n                            created_at: -1\n                        };\n                        break;\n                    case \"lowest_rating\":\n                        sortOptions = {\n                            rating: 1,\n                            created_at: -1\n                        };\n                        break;\n                    case \"most_helpful\":\n                        sortOptions = {\n                            helpful_count: -1,\n                            created_at: -1\n                        };\n                        break;\n                    default:\n                        sortOptions = {\n                            created_at: -1\n                        };\n                }\n                // Execute query\n                const skip = (pageNum - 1) * limitNum;\n                let reviews = await _models_Review__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find(query).sort(sortOptions).exec();\n                // Apply size similarity filter jika diperlukan\n                if (sizeSimilarity === \"true\" && measurements) {\n                    const userMeasurements = JSON.parse(measurements);\n                    // Validasi measurements\n                    const validMeasurements = [\n                        \"waist\",\n                        \"bust\",\n                        \"hips\",\n                        \"height\"\n                    ].every((m)=>typeof userMeasurements[m] === \"number\");\n                    if (!validMeasurements) {\n                        return res.status(400).json({\n                            success: false,\n                            message: \"Invalid measurements format\"\n                        });\n                    }\n                    // Hitung similarity score dan filter\n                    reviews = reviews.map((review)=>{\n                        const similarityScore = (0,_utils_sizeSimilarity__WEBPACK_IMPORTED_MODULE_2__.calculateSizeSimilarity)(userMeasurements, review.user_measurements);\n                        return {\n                            ...review.toObject(),\n                            sizeSimilarity: similarityScore\n                        };\n                    }).filter((review)=>review.sizeSimilarity >= 0.8).sort((a, b)=>{\n                        if (sort === \"size_similarity\") {\n                            return b.sizeSimilarity - a.sizeSimilarity;\n                        }\n                        return 0;\n                    });\n                }\n                // Apply pagination after filtering\n                const totalReviews = reviews.length;\n                reviews = reviews.slice(skip, skip + limitNum);\n                const totalPages = Math.ceil(totalReviews / limitNum);\n                // Log available review IDs for debugging\n                console.log(\"Available review IDs:\", reviews.map((review)=>review._id));\n                return res.status(200).json({\n                    success: true,\n                    data: {\n                        reviews,\n                        pagination: {\n                            total: totalReviews,\n                            totalPages,\n                            currentPage: pageNum,\n                            hasNextPage: pageNum < totalPages,\n                            hasPrevPage: pageNum > 1\n                        }\n                    }\n                });\n            case \"POST\":\n                const validationErrors = [];\n                // Validasi input\n                if (!req.body.product_id) validationErrors.push(\"Product ID is required\");\n                if (!req.body.user_id) validationErrors.push(\"User ID is required\");\n                if (!req.body.rating || req.body.rating < 1 || req.body.rating > 5) {\n                    validationErrors.push(\"Rating must be between 1 and 5\");\n                }\n                if (!req.body.review_text || req.body.review_text.trim().length < 10) {\n                    validationErrors.push(\"Review text must be at least 10 characters long\");\n                }\n                // Validasi user_measurements jika ada\n                if (req.body.user_measurements) {\n                    const { waist, bust, hips, height } = req.body.user_measurements;\n                    if (waist && (waist < 50 || waist > 150)) validationErrors.push(\"Invalid waist measurement\");\n                    if (bust && (bust < 50 || bust > 150)) validationErrors.push(\"Invalid bust measurement\");\n                    if (hips && (hips < 50 || hips > 150)) validationErrors.push(\"Invalid hips measurement\");\n                    if (height && (height < 100 || height > 250)) validationErrors.push(\"Invalid height measurement\");\n                }\n                if (validationErrors.length > 0) {\n                    return res.status(400).json({\n                        success: false,\n                        message: \"Validation failed\",\n                        errors: validationErrors\n                    });\n                }\n                const review = new _models_Review__WEBPACK_IMPORTED_MODULE_1__[\"default\"](req.body);\n                await review.save();\n                // Log created review ID\n                console.log(\"Created review ID:\", review._id);\n                return res.status(201).json({\n                    success: true,\n                    message: \"Review created successfully\",\n                    data: review\n                });\n            default:\n                res.setHeader(\"Allow\", [\n                    \"GET\",\n                    \"POST\"\n                ]);\n                return res.status(405).json({\n                    success: false,\n                    message: `Method ${req.method} Not Allowed`\n                });\n        }\n    } catch (error) {\n        console.error(\"Error handling review:\", error);\n        return res.status(500).json({\n            success: false,\n            message: \"Error handling review\",\n            error:  true ? error.message : 0\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O29CQUFDO29CQUFPO2lCQUFPO2dCQUN0QyxPQUFPeEQsSUFBSWMsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFDMUJDLFNBQVM7b0JBQ1RDLFNBQVMsQ0FBQyxPQUFPLEVBQUVsQixJQUFJRSxNQUFNLENBQUMsWUFBWSxDQUFDO2dCQUM3QztRQUNKO0lBQ0YsRUFBRSxPQUFPd0QsT0FBTztRQUNkYixRQUFRYSxLQUFLLENBQUMsMEJBQTBCQTtRQUN4QyxPQUFPekQsSUFBSWMsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNUQyxTQUFTO1lBQ1R3QyxPQUFPQyxLQUF5QixHQUFnQkQsTUFBTXhDLE9BQU8sR0FBRztRQUNsRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZXJlbnQtYmFja2VuZC8uL3BhZ2VzL2FwaS9yZXZpZXdzL2luZGV4LmpzP2I3MzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdERCIH0gZnJvbSAnLi4vLi4vLi4vbGliL21vbmdvZGInO1xyXG5pbXBvcnQgUmV2aWV3IGZyb20gJy4uLy4uLy4uL21vZGVscy9SZXZpZXcnO1xyXG5pbXBvcnQgeyBjYWxjdWxhdGVTaXplU2ltaWxhcml0eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3NpemVTaW1pbGFyaXR5JztcclxuXHJcbi8vIFZhbGlkYXNpIGlucHV0IHVudHVrIHJldmlld1xyXG5jb25zdCB2YWxpZGF0ZVJldmlld0lucHV0ID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBlcnJvcnMgPSBbXTtcclxuICBcclxuICBpZiAoIWRhdGEucHJvZHVjdF9pZCkgZXJyb3JzLnB1c2goJ1Byb2R1Y3QgSUQgaXMgcmVxdWlyZWQnKTtcclxuICBpZiAoIWRhdGEudXNlcl9pZCkgZXJyb3JzLnB1c2goJ1VzZXIgSUQgaXMgcmVxdWlyZWQnKTtcclxuICBpZiAoIWRhdGEucmF0aW5nIHx8IGRhdGEucmF0aW5nIDwgMSB8fCBkYXRhLnJhdGluZyA+IDUpIGVycm9ycy5wdXNoKCdSYXRpbmcgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDUnKTtcclxuICBpZiAoIWRhdGEucmV2aWV3X3RleHQpIGVycm9ycy5wdXNoKCdSZXZpZXcgdGV4dCBpcyByZXF1aXJlZCcpO1xyXG4gIFxyXG4gIC8vIFZhbGlkYXNpIG1lYXN1cmVtZW50cyBqaWthIGFkYVxyXG4gIGlmIChkYXRhLnVzZXJfbWVhc3VyZW1lbnRzKSB7XHJcbiAgICBjb25zdCB7IHdhaXN0LCBidXN0LCBoaXBzLCBoZWlnaHQgfSA9IGRhdGEudXNlcl9tZWFzdXJlbWVudHM7XHJcbiAgICBpZiAod2Fpc3QgJiYgKHdhaXN0IDwgNTAgfHwgd2Fpc3QgPiAxNTApKSBlcnJvcnMucHVzaCgnSW52YWxpZCB3YWlzdCBtZWFzdXJlbWVudCcpO1xyXG4gICAgaWYgKGJ1c3QgJiYgKGJ1c3QgPCA1MCB8fCBidXN0ID4gMTUwKSkgZXJyb3JzLnB1c2goJ0ludmFsaWQgYnVzdCBtZWFzdXJlbWVudCcpO1xyXG4gICAgaWYgKGhpcHMgJiYgKGhpcHMgPCA1MCB8fCBoaXBzID4gMTUwKSkgZXJyb3JzLnB1c2goJ0ludmFsaWQgaGlwcyBtZWFzdXJlbWVudCcpO1xyXG4gICAgaWYgKGhlaWdodCAmJiAoaGVpZ2h0IDwgMTAwIHx8IGhlaWdodCA+IDI1MCkpIGVycm9ycy5wdXNoKCdJbnZhbGlkIGhlaWdodCBtZWFzdXJlbWVudCcpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVycm9ycztcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgY29ubmVjdERCKCk7XHJcblxyXG4gICAgc3dpdGNoIChyZXEubWV0aG9kKSB7XHJcbiAgICAgIGNhc2UgJ0dFVCc6XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgcGFnZSA9IDEsXHJcbiAgICAgICAgICBsaW1pdCA9IDEwLFxyXG4gICAgICAgICAgcHJvZHVjdF9pZCxcclxuICAgICAgICAgIHJhdGluZyxcclxuICAgICAgICAgIHNvcnQgPSAnbmV3ZXN0JyxcclxuICAgICAgICAgIHNpemVTaW1pbGFyaXR5ID0gJ2ZhbHNlJyxcclxuICAgICAgICAgIG1lYXN1cmVtZW50c1xyXG4gICAgICAgIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXNpIHBhcmFtZXRlclxyXG4gICAgICAgIGNvbnN0IHBhZ2VOdW0gPSBwYXJzZUludChwYWdlKTtcclxuICAgICAgICBjb25zdCBsaW1pdE51bSA9IE1hdGgubWluKHBhcnNlSW50KGxpbWl0KSwgMTAwKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNOYU4ocGFnZU51bSkgfHwgcGFnZU51bSA8IDEpIHtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBwYWdlIG51bWJlcidcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzTmFOKGxpbWl0TnVtKSB8fCBsaW1pdE51bSA8IDEpIHtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBsaW1pdCBudW1iZXInXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJ1aWxkIHF1ZXJ5XHJcbiAgICAgICAgY29uc3QgcXVlcnkgPSB7fTtcclxuICAgICAgICBpZiAocHJvZHVjdF9pZCkge1xyXG4gICAgICAgICAgcXVlcnkucHJvZHVjdF9pZCA9IHByb2R1Y3RfaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyYXRpbmcpIHtcclxuICAgICAgICAgIGNvbnN0IHJhdGluZ051bSA9IHBhcnNlSW50KHJhdGluZyk7XHJcbiAgICAgICAgICBpZiAoIWlzTmFOKHJhdGluZ051bSkgJiYgcmF0aW5nTnVtID49IDEgJiYgcmF0aW5nTnVtIDw9IDUpIHtcclxuICAgICAgICAgICAgcXVlcnkucmF0aW5nID0gcmF0aW5nTnVtO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQnVpbGQgc29ydCBvcHRpb25zXHJcbiAgICAgICAgbGV0IHNvcnRPcHRpb25zID0ge307XHJcbiAgICAgICAgc3dpdGNoIChzb3J0KSB7XHJcbiAgICAgICAgICBjYXNlICduZXdlc3QnOlxyXG4gICAgICAgICAgICBzb3J0T3B0aW9ucyA9IHsgY3JlYXRlZF9hdDogLTEgfTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdvbGRlc3QnOlxyXG4gICAgICAgICAgICBzb3J0T3B0aW9ucyA9IHsgY3JlYXRlZF9hdDogMSB9O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2hpZ2hlc3RfcmF0aW5nJzpcclxuICAgICAgICAgICAgc29ydE9wdGlvbnMgPSB7IHJhdGluZzogLTEsIGNyZWF0ZWRfYXQ6IC0xIH07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnbG93ZXN0X3JhdGluZyc6XHJcbiAgICAgICAgICAgIHNvcnRPcHRpb25zID0geyByYXRpbmc6IDEsIGNyZWF0ZWRfYXQ6IC0xIH07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnbW9zdF9oZWxwZnVsJzpcclxuICAgICAgICAgICAgc29ydE9wdGlvbnMgPSB7IGhlbHBmdWxfY291bnQ6IC0xLCBjcmVhdGVkX2F0OiAtMSB9O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHNvcnRPcHRpb25zID0geyBjcmVhdGVkX2F0OiAtMSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXhlY3V0ZSBxdWVyeVxyXG4gICAgICAgIGNvbnN0IHNraXAgPSAocGFnZU51bSAtIDEpICogbGltaXROdW07XHJcbiAgICAgICAgbGV0IHJldmlld3MgPSBhd2FpdCBSZXZpZXcuZmluZChxdWVyeSlcclxuICAgICAgICAgIC5zb3J0KHNvcnRPcHRpb25zKVxyXG4gICAgICAgICAgLmV4ZWMoKTtcclxuXHJcbiAgICAgICAgLy8gQXBwbHkgc2l6ZSBzaW1pbGFyaXR5IGZpbHRlciBqaWthIGRpcGVybHVrYW5cclxuICAgICAgICBpZiAoc2l6ZVNpbWlsYXJpdHkgPT09ICd0cnVlJyAmJiBtZWFzdXJlbWVudHMpIHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJNZWFzdXJlbWVudHMgPSBKU09OLnBhcnNlKG1lYXN1cmVtZW50cyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFZhbGlkYXNpIG1lYXN1cmVtZW50c1xyXG4gICAgICAgICAgY29uc3QgdmFsaWRNZWFzdXJlbWVudHMgPSBbJ3dhaXN0JywgJ2J1c3QnLCAnaGlwcycsICdoZWlnaHQnXS5ldmVyeShcclxuICAgICAgICAgICAgbSA9PiB0eXBlb2YgdXNlck1lYXN1cmVtZW50c1ttXSA9PT0gJ251bWJlcidcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKCF2YWxpZE1lYXN1cmVtZW50cykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIG1lYXN1cmVtZW50cyBmb3JtYXQnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEhpdHVuZyBzaW1pbGFyaXR5IHNjb3JlIGRhbiBmaWx0ZXJcclxuICAgICAgICAgIHJldmlld3MgPSByZXZpZXdzLm1hcChyZXZpZXcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzaW1pbGFyaXR5U2NvcmUgPSBjYWxjdWxhdGVTaXplU2ltaWxhcml0eShcclxuICAgICAgICAgICAgICB1c2VyTWVhc3VyZW1lbnRzLFxyXG4gICAgICAgICAgICAgIHJldmlldy51c2VyX21lYXN1cmVtZW50c1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXZpZXcudG9PYmplY3QoKSwgc2l6ZVNpbWlsYXJpdHk6IHNpbWlsYXJpdHlTY29yZSB9O1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5maWx0ZXIocmV2aWV3ID0+IHJldmlldy5zaXplU2ltaWxhcml0eSA+PSAwLjgpXHJcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc29ydCA9PT0gJ3NpemVfc2ltaWxhcml0eScpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gYi5zaXplU2ltaWxhcml0eSAtIGEuc2l6ZVNpbWlsYXJpdHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFwcGx5IHBhZ2luYXRpb24gYWZ0ZXIgZmlsdGVyaW5nXHJcbiAgICAgICAgY29uc3QgdG90YWxSZXZpZXdzID0gcmV2aWV3cy5sZW5ndGg7XHJcbiAgICAgICAgcmV2aWV3cyA9IHJldmlld3Muc2xpY2Uoc2tpcCwgc2tpcCArIGxpbWl0TnVtKTtcclxuXHJcbiAgICAgICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbFJldmlld3MgLyBsaW1pdE51bSk7XHJcblxyXG4gICAgICAgIC8vIExvZyBhdmFpbGFibGUgcmV2aWV3IElEcyBmb3IgZGVidWdnaW5nXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0F2YWlsYWJsZSByZXZpZXcgSURzOicsIHJldmlld3MubWFwKHJldmlldyA9PiByZXZpZXcuX2lkKSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICByZXZpZXdzLFxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgdG90YWw6IHRvdGFsUmV2aWV3cyxcclxuICAgICAgICAgICAgICB0b3RhbFBhZ2VzLFxyXG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlTnVtLFxyXG4gICAgICAgICAgICAgIGhhc05leHRQYWdlOiBwYWdlTnVtIDwgdG90YWxQYWdlcyxcclxuICAgICAgICAgICAgICBoYXNQcmV2UGFnZTogcGFnZU51bSA+IDFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgY2FzZSAnUE9TVCc6XHJcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBWYWxpZGFzaSBpbnB1dFxyXG4gICAgICAgIGlmICghcmVxLmJvZHkucHJvZHVjdF9pZCkgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCdQcm9kdWN0IElEIGlzIHJlcXVpcmVkJyk7XHJcbiAgICAgICAgaWYgKCFyZXEuYm9keS51c2VyX2lkKSB2YWxpZGF0aW9uRXJyb3JzLnB1c2goJ1VzZXIgSUQgaXMgcmVxdWlyZWQnKTtcclxuICAgICAgICBpZiAoIXJlcS5ib2R5LnJhdGluZyB8fCByZXEuYm9keS5yYXRpbmcgPCAxIHx8IHJlcS5ib2R5LnJhdGluZyA+IDUpIHtcclxuICAgICAgICAgIHZhbGlkYXRpb25FcnJvcnMucHVzaCgnUmF0aW5nIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA1Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcmVxLmJvZHkucmV2aWV3X3RleHQgfHwgcmVxLmJvZHkucmV2aWV3X3RleHQudHJpbSgpLmxlbmd0aCA8IDEwKSB7XHJcbiAgICAgICAgICB2YWxpZGF0aW9uRXJyb3JzLnB1c2goJ1JldmlldyB0ZXh0IG11c3QgYmUgYXQgbGVhc3QgMTAgY2hhcmFjdGVycyBsb25nJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWYWxpZGFzaSB1c2VyX21lYXN1cmVtZW50cyBqaWthIGFkYVxyXG4gICAgICAgIGlmIChyZXEuYm9keS51c2VyX21lYXN1cmVtZW50cykge1xyXG4gICAgICAgICAgY29uc3QgeyB3YWlzdCwgYnVzdCwgaGlwcywgaGVpZ2h0IH0gPSByZXEuYm9keS51c2VyX21lYXN1cmVtZW50cztcclxuICAgICAgICAgIGlmICh3YWlzdCAmJiAod2Fpc3QgPCA1MCB8fCB3YWlzdCA+IDE1MCkpIHZhbGlkYXRpb25FcnJvcnMucHVzaCgnSW52YWxpZCB3YWlzdCBtZWFzdXJlbWVudCcpO1xyXG4gICAgICAgICAgaWYgKGJ1c3QgJiYgKGJ1c3QgPCA1MCB8fCBidXN0ID4gMTUwKSkgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCdJbnZhbGlkIGJ1c3QgbWVhc3VyZW1lbnQnKTtcclxuICAgICAgICAgIGlmIChoaXBzICYmIChoaXBzIDwgNTAgfHwgaGlwcyA+IDE1MCkpIHZhbGlkYXRpb25FcnJvcnMucHVzaCgnSW52YWxpZCBoaXBzIG1lYXN1cmVtZW50Jyk7XHJcbiAgICAgICAgICBpZiAoaGVpZ2h0ICYmIChoZWlnaHQgPCAxMDAgfHwgaGVpZ2h0ID4gMjUwKSkgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCdJbnZhbGlkIGhlaWdodCBtZWFzdXJlbWVudCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdWYWxpZGF0aW9uIGZhaWxlZCcsXHJcbiAgICAgICAgICAgIGVycm9yczogdmFsaWRhdGlvbkVycm9yc1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZXZpZXcgPSBuZXcgUmV2aWV3KHJlcS5ib2R5KTtcclxuICAgICAgICBhd2FpdCByZXZpZXcuc2F2ZSgpO1xyXG5cclxuICAgICAgICAvLyBMb2cgY3JlYXRlZCByZXZpZXcgSURcclxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCByZXZpZXcgSUQ6JywgcmV2aWV3Ll9pZCk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ1JldmlldyBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgICAgICBkYXRhOiByZXZpZXdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCcsICdQT1NUJ10pO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6IGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgcmV2aWV3OicsIGVycm9yKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAnRXJyb3IgaGFuZGxpbmcgcmV2aWV3JyxcclxuICAgICAgZXJyb3I6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3IubWVzc2FnZSA6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InXHJcbiAgICB9KTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbImNvbm5lY3REQiIsIlJldmlldyIsImNhbGN1bGF0ZVNpemVTaW1pbGFyaXR5IiwidmFsaWRhdGVSZXZpZXdJbnB1dCIsImRhdGEiLCJlcnJvcnMiLCJwcm9kdWN0X2lkIiwicHVzaCIsInVzZXJfaWQiLCJyYXRpbmciLCJyZXZpZXdfdGV4dCIsInVzZXJfbWVhc3VyZW1lbnRzIiwid2Fpc3QiLCJidXN0IiwiaGlwcyIsImhlaWdodCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJwYWdlIiwibGltaXQiLCJzb3J0Iiwic2l6ZVNpbWlsYXJpdHkiLCJtZWFzdXJlbWVudHMiLCJxdWVyeSIsInBhZ2VOdW0iLCJwYXJzZUludCIsImxpbWl0TnVtIiwiTWF0aCIsIm1pbiIsImlzTmFOIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwicmF0aW5nTnVtIiwic29ydE9wdGlvbnMiLCJjcmVhdGVkX2F0IiwiaGVscGZ1bF9jb3VudCIsInNraXAiLCJyZXZpZXdzIiwiZmluZCIsImV4ZWMiLCJ1c2VyTWVhc3VyZW1lbnRzIiwiSlNPTiIsInBhcnNlIiwidmFsaWRNZWFzdXJlbWVudHMiLCJldmVyeSIsIm0iLCJtYXAiLCJyZXZpZXciLCJzaW1pbGFyaXR5U2NvcmUiLCJ0b09iamVjdCIsImZpbHRlciIsImEiLCJiIiwidG90YWxSZXZpZXdzIiwibGVuZ3RoIiwic2xpY2UiLCJ0b3RhbFBhZ2VzIiwiY2VpbCIsImNvbnNvbGUiLCJsb2ciLCJfaWQiLCJwYWdpbmF0aW9uIiwidG90YWwiLCJjdXJyZW50UGFnZSIsImhhc05leHRQYWdlIiwiaGFzUHJldlBhZ2UiLCJ2YWxpZGF0aW9uRXJyb3JzIiwiYm9keSIsInRyaW0iLCJzYXZlIiwic2V0SGVhZGVyIiwiZXJyb3IiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/reviews/index.js\n");

/***/ }),

/***/ "(api)/./utils/sizeSimilarity.js":
/*!*********************************!*\
  !*** ./utils/sizeSimilarity.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateSizeSimilarity: () => (/* binding */ calculateSizeSimilarity)\n/* harmony export */ });\n/**\r\n * Menghitung similarity score antara dua set measurements\r\n * @param {Object} measurements1 - Measurements pertama (user)\r\n * @param {Object} measurements2 - Measurements kedua (review)\r\n * @returns {number} Similarity score (0-1)\r\n */ function calculateSizeSimilarity(measurements1, measurements2) {\n    // Jika salah satu measurements kosong, return 0\n    if (!measurements1 || !measurements2) return 0;\n    const weights = {\n        waist: 0.25,\n        bust: 0.25,\n        hips: 0.25,\n        height: 0.25\n    };\n    let totalScore = 0;\n    let totalWeight = 0;\n    // Hitung similarity untuk setiap measurement\n    Object.keys(weights).forEach((measurement)=>{\n        const value1 = measurements1[measurement];\n        const value2 = measurements2[measurement];\n        if (value1 && value2) {\n            // Hitung perbedaan dalam persentase\n            const diff = Math.abs(value1 - value2);\n            const maxAllowedDiff = {\n                waist: 10,\n                bust: 10,\n                hips: 10,\n                height: 15 // 15cm difference\n            };\n            // Konversi perbedaan ke score (0-1)\n            const score = Math.max(0, 1 - diff / maxAllowedDiff[measurement]);\n            totalScore += score * weights[measurement];\n            totalWeight += weights[measurement];\n        }\n    });\n    // Jika tidak ada measurements yang bisa dibandingkan, return 0\n    if (totalWeight === 0) return 0;\n    // Normalisasi score\n    return totalScore / totalWeight;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zaXplU2ltaWxhcml0eS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7O0NBS0MsR0FDTSxTQUFTQSx3QkFBd0JDLGFBQWEsRUFBRUMsYUFBYTtJQUNoRSxnREFBZ0Q7SUFDaEQsSUFBSSxDQUFDRCxpQkFBaUIsQ0FBQ0MsZUFBZSxPQUFPO0lBRTdDLE1BQU1DLFVBQVU7UUFDWkMsT0FBTztRQUNQQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsUUFBUTtJQUNaO0lBRUEsSUFBSUMsYUFBYTtJQUNqQixJQUFJQyxjQUFjO0lBRWxCLDZDQUE2QztJQUM3Q0MsT0FBT0MsSUFBSSxDQUFDUixTQUFTUyxPQUFPLENBQUNDLENBQUFBO1FBQ3pCLE1BQU1DLFNBQVNiLGFBQWEsQ0FBQ1ksWUFBWTtRQUN6QyxNQUFNRSxTQUFTYixhQUFhLENBQUNXLFlBQVk7UUFFekMsSUFBSUMsVUFBVUMsUUFBUTtZQUNsQixvQ0FBb0M7WUFDcEMsTUFBTUMsT0FBT0MsS0FBS0MsR0FBRyxDQUFDSixTQUFTQztZQUMvQixNQUFNSSxpQkFBaUI7Z0JBQ25CZixPQUFPO2dCQUNQQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOQyxRQUFRLEdBQUksa0JBQWtCO1lBQ2xDO1lBRUEsb0NBQW9DO1lBQ3BDLE1BQU1hLFFBQVFILEtBQUtJLEdBQUcsQ0FBQyxHQUFHLElBQUtMLE9BQU9HLGNBQWMsQ0FBQ04sWUFBWTtZQUNqRUwsY0FBY1ksUUFBUWpCLE9BQU8sQ0FBQ1UsWUFBWTtZQUMxQ0osZUFBZU4sT0FBTyxDQUFDVSxZQUFZO1FBQ3ZDO0lBQ0o7SUFFQSwrREFBK0Q7SUFDL0QsSUFBSUosZ0JBQWdCLEdBQUcsT0FBTztJQUU5QixvQkFBb0I7SUFDcEIsT0FBT0QsYUFBYUM7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZXJlbnQtYmFja2VuZC8uL3V0aWxzL3NpemVTaW1pbGFyaXR5LmpzPzE1NDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE1lbmdoaXR1bmcgc2ltaWxhcml0eSBzY29yZSBhbnRhcmEgZHVhIHNldCBtZWFzdXJlbWVudHNcclxuICogQHBhcmFtIHtPYmplY3R9IG1lYXN1cmVtZW50czEgLSBNZWFzdXJlbWVudHMgcGVydGFtYSAodXNlcilcclxuICogQHBhcmFtIHtPYmplY3R9IG1lYXN1cmVtZW50czIgLSBNZWFzdXJlbWVudHMga2VkdWEgKHJldmlldylcclxuICogQHJldHVybnMge251bWJlcn0gU2ltaWxhcml0eSBzY29yZSAoMC0xKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVNpemVTaW1pbGFyaXR5KG1lYXN1cmVtZW50czEsIG1lYXN1cmVtZW50czIpIHtcclxuICAgIC8vIEppa2Egc2FsYWggc2F0dSBtZWFzdXJlbWVudHMga29zb25nLCByZXR1cm4gMFxyXG4gICAgaWYgKCFtZWFzdXJlbWVudHMxIHx8ICFtZWFzdXJlbWVudHMyKSByZXR1cm4gMDtcclxuXHJcbiAgICBjb25zdCB3ZWlnaHRzID0ge1xyXG4gICAgICAgIHdhaXN0OiAwLjI1LFxyXG4gICAgICAgIGJ1c3Q6IDAuMjUsXHJcbiAgICAgICAgaGlwczogMC4yNSxcclxuICAgICAgICBoZWlnaHQ6IDAuMjVcclxuICAgIH07XHJcblxyXG4gICAgbGV0IHRvdGFsU2NvcmUgPSAwO1xyXG4gICAgbGV0IHRvdGFsV2VpZ2h0ID0gMDtcclxuXHJcbiAgICAvLyBIaXR1bmcgc2ltaWxhcml0eSB1bnR1ayBzZXRpYXAgbWVhc3VyZW1lbnRcclxuICAgIE9iamVjdC5rZXlzKHdlaWdodHMpLmZvckVhY2gobWVhc3VyZW1lbnQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlMSA9IG1lYXN1cmVtZW50czFbbWVhc3VyZW1lbnRdO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlMiA9IG1lYXN1cmVtZW50czJbbWVhc3VyZW1lbnRdO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUxICYmIHZhbHVlMikge1xyXG4gICAgICAgICAgICAvLyBIaXR1bmcgcGVyYmVkYWFuIGRhbGFtIHBlcnNlbnRhc2VcclxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKHZhbHVlMSAtIHZhbHVlMik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1heEFsbG93ZWREaWZmID0ge1xyXG4gICAgICAgICAgICAgICAgd2Fpc3Q6IDEwLCAgLy8gMTBjbSBkaWZmZXJlbmNlXHJcbiAgICAgICAgICAgICAgICBidXN0OiAxMCwgICAvLyAxMGNtIGRpZmZlcmVuY2VcclxuICAgICAgICAgICAgICAgIGhpcHM6IDEwLCAgIC8vIDEwY20gZGlmZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxNSAgLy8gMTVjbSBkaWZmZXJlbmNlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBLb252ZXJzaSBwZXJiZWRhYW4ga2Ugc2NvcmUgKDAtMSlcclxuICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSBNYXRoLm1heCgwLCAxIC0gKGRpZmYgLyBtYXhBbGxvd2VkRGlmZlttZWFzdXJlbWVudF0pKTtcclxuICAgICAgICAgICAgdG90YWxTY29yZSArPSBzY29yZSAqIHdlaWdodHNbbWVhc3VyZW1lbnRdO1xyXG4gICAgICAgICAgICB0b3RhbFdlaWdodCArPSB3ZWlnaHRzW21lYXN1cmVtZW50XTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBKaWthIHRpZGFrIGFkYSBtZWFzdXJlbWVudHMgeWFuZyBiaXNhIGRpYmFuZGluZ2thbiwgcmV0dXJuIDBcclxuICAgIGlmICh0b3RhbFdlaWdodCA9PT0gMCkgcmV0dXJuIDA7XHJcblxyXG4gICAgLy8gTm9ybWFsaXNhc2kgc2NvcmVcclxuICAgIHJldHVybiB0b3RhbFNjb3JlIC8gdG90YWxXZWlnaHQ7XHJcbn0gIl0sIm5hbWVzIjpbImNhbGN1bGF0ZVNpemVTaW1pbGFyaXR5IiwibWVhc3VyZW1lbnRzMSIsIm1lYXN1cmVtZW50czIiLCJ3ZWlnaHRzIiwid2Fpc3QiLCJidXN0IiwiaGlwcyIsImhlaWdodCIsInRvdGFsU2NvcmUiLCJ0b3RhbFdlaWdodCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwibWVhc3VyZW1lbnQiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJkaWZmIiwiTWF0aCIsImFicyIsIm1heEFsbG93ZWREaWZmIiwic2NvcmUiLCJtYXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/sizeSimilarity.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Freviews&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Creviews%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();