"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/reviews/[id]";
exports.ids = ["pages/api/reviews/[id]"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Freviews%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Creviews%5C%5Bid%5D%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Freviews%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Creviews%5C%5Bid%5D%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_reviews_id_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\reviews\\[id]\\index.js */ \"(api)/./pages/api/reviews/[id]/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_reviews_id_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_reviews_id_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/reviews/[id]\",\n        pathname: \"/api/reviews/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_reviews_id_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnJldmlld3MlMkYlNUJpZCU1RCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDcmV2aWV3cyU1QyU1QmlkJTVEJTVDaW5kZXguanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDa0U7QUFDbEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDJEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywyREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZXJlbnQtYmFja2VuZC8/ZTI2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHJldmlld3NcXFxcW2lkXVxcXFxpbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Jldmlld3MvW2lkXVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Jldmlld3MvW2lkXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Freviews%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Creviews%5C%5Bid%5D%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectDB: () => (/* binding */ connectDB)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env\");\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectDB() {\n    try {\n        if (cached.conn) {\n            console.log(\"Using cached MongoDB connection\");\n            return cached.conn;\n        }\n        console.log(\"Connecting to MongoDB...\");\n        console.log(\"MongoDB URI:\", MONGODB_URI.replace(/:[^:]*@/, \":****@\")); // Hide password in logs\n        const opts = {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n            maxPoolSize: 10,\n            serverSelectionTimeoutMS: 5000,\n            socketTimeoutMS: 45000\n        };\n        if (!cached.promise) {\n            cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts);\n        }\n        cached.conn = await cached.promise;\n        console.log(\"Successfully connected to MongoDB!\");\n        // Test the connection\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.db.admin().ping();\n        console.log(\"MongoDB connection is healthy (ping successful)\");\n        return cached.conn;\n    } catch (error) {\n        console.error(\"MongoDB connection error:\", {\n            name: error.name,\n            message: error.message,\n            code: error.code,\n            codeName: error.codeName\n        });\n        // Reset cache if connection fails\n        cached.promise = null;\n        cached.conn = null;\n        if (error.name === \"MongoServerSelectionError\") {\n            throw new Error(\"Could not connect to MongoDB. Please check:\\n\" + \"1. Your network connection\\n\" + \"2. MongoDB Atlas IP whitelist (add your current IP)\\n\" + \"3. MongoDB Atlas username and password\\n\" + \"For more details: https://www.mongodb.com/docs/atlas/security-whitelist/\");\n        }\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDRixXQUFXO0FBRTNDLElBQUksQ0FBQ0EsYUFBYTtJQUNoQixNQUFNLElBQUlHLE1BQU07QUFDbEI7QUFFQSxJQUFJQyxTQUFTQyxPQUFPTixRQUFRO0FBRTVCLElBQUksQ0FBQ0ssUUFBUTtJQUNYQSxTQUFTQyxPQUFPTixRQUFRLEdBQUc7UUFBRU8sTUFBTTtRQUFNQyxTQUFTO0lBQUs7QUFDekQ7QUFFTyxlQUFlQztJQUNwQixJQUFJO1FBQ0YsSUFBSUosT0FBT0UsSUFBSSxFQUFFO1lBQ2ZHLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU9OLE9BQU9FLElBQUk7UUFDcEI7UUFFQUcsUUFBUUMsR0FBRyxDQUFDO1FBQ1pELFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JWLFlBQVlXLE9BQU8sQ0FBQyxXQUFXLFlBQVksd0JBQXdCO1FBRS9GLE1BQU1DLE9BQU87WUFDWEMsaUJBQWlCO1lBQ2pCQyxvQkFBb0I7WUFDcEJDLGFBQWE7WUFDYkMsMEJBQTBCO1lBQzFCQyxpQkFBaUI7UUFDbkI7UUFFQSxJQUFJLENBQUNiLE9BQU9HLE9BQU8sRUFBRTtZQUNuQkgsT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsYUFBYVk7UUFDakQ7UUFFQVIsT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87UUFDbENFLFFBQVFDLEdBQUcsQ0FBQztRQUVaLHNCQUFzQjtRQUN0QixNQUFNWCwwREFBbUIsQ0FBQ3FCLEVBQUUsQ0FBQ0MsS0FBSyxHQUFHQyxJQUFJO1FBQ3pDYixRQUFRQyxHQUFHLENBQUM7UUFFWixPQUFPTixPQUFPRSxJQUFJO0lBQ3BCLEVBQUUsT0FBT2lCLE9BQU87UUFDZGQsUUFBUWMsS0FBSyxDQUFDLDZCQUE2QjtZQUN6Q0MsTUFBTUQsTUFBTUMsSUFBSTtZQUNoQkMsU0FBU0YsTUFBTUUsT0FBTztZQUN0QkMsTUFBTUgsTUFBTUcsSUFBSTtZQUNoQkMsVUFBVUosTUFBTUksUUFBUTtRQUMxQjtRQUVBLGtDQUFrQztRQUNsQ3ZCLE9BQU9HLE9BQU8sR0FBRztRQUNqQkgsT0FBT0UsSUFBSSxHQUFHO1FBRWQsSUFBSWlCLE1BQU1DLElBQUksS0FBSyw2QkFBNkI7WUFDOUMsTUFBTSxJQUFJckIsTUFDUixrREFDQSxpQ0FDQSwwREFDQSw2Q0FDQTtRQUVKO1FBRUEsTUFBTW9CO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlcmVudC1iYWNrZW5kLy4vbGliL21vbmdvZGIuanM/ZDkyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGluc2lkZSAuZW52Jyk7XHJcbn1cclxuXHJcbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdERCKCkge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGNhY2hlZCBNb25nb0RCIGNvbm5lY3Rpb24nKTtcclxuICAgICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW5nIHRvIE1vbmdvREIuLi4nKTtcclxuICAgIGNvbnNvbGUubG9nKCdNb25nb0RCIFVSSTonLCBNT05HT0RCX1VSSS5yZXBsYWNlKC86W146XSpALywgJzoqKioqQCcpKTsgLy8gSGlkZSBwYXNzd29yZCBpbiBsb2dzXHJcblxyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICAgIG1heFBvb2xTaXplOiAxMCxcclxuICAgICAgc2VydmVyU2VsZWN0aW9uVGltZW91dE1TOiA1MDAwLFxyXG4gICAgICBzb2NrZXRUaW1lb3V0TVM6IDQ1MDAwLFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIE1vbmdvREIhJyk7XHJcbiAgICBcclxuICAgIC8vIFRlc3QgdGhlIGNvbm5lY3Rpb25cclxuICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3Rpb24uZGIuYWRtaW4oKS5waW5nKCk7XHJcbiAgICBjb25zb2xlLmxvZygnTW9uZ29EQiBjb25uZWN0aW9uIGlzIGhlYWx0aHkgKHBpbmcgc3VjY2Vzc2Z1bCknKTtcclxuXHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ01vbmdvREIgY29ubmVjdGlvbiBlcnJvcjonLCB7XHJcbiAgICAgIG5hbWU6IGVycm9yLm5hbWUsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIGNvZGU6IGVycm9yLmNvZGUsXHJcbiAgICAgIGNvZGVOYW1lOiBlcnJvci5jb2RlTmFtZVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmVzZXQgY2FjaGUgaWYgY29ubmVjdGlvbiBmYWlsc1xyXG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xyXG4gICAgY2FjaGVkLmNvbm4gPSBudWxsO1xyXG5cclxuICAgIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29TZXJ2ZXJTZWxlY3Rpb25FcnJvcicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICdDb3VsZCBub3QgY29ubmVjdCB0byBNb25nb0RCLiBQbGVhc2UgY2hlY2s6XFxuJyArXHJcbiAgICAgICAgJzEuIFlvdXIgbmV0d29yayBjb25uZWN0aW9uXFxuJyArXHJcbiAgICAgICAgJzIuIE1vbmdvREIgQXRsYXMgSVAgd2hpdGVsaXN0IChhZGQgeW91ciBjdXJyZW50IElQKVxcbicgK1xyXG4gICAgICAgICczLiBNb25nb0RCIEF0bGFzIHVzZXJuYW1lIGFuZCBwYXNzd29yZFxcbicgK1xyXG4gICAgICAgICdGb3IgbW9yZSBkZXRhaWxzOiBodHRwczovL3d3dy5tb25nb2RiLmNvbS9kb2NzL2F0bGFzL3NlY3VyaXR5LXdoaXRlbGlzdC8nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJjb25uZWN0REIiLCJjb25zb2xlIiwibG9nIiwicmVwbGFjZSIsIm9wdHMiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJtYXhQb29sU2l6ZSIsInNlcnZlclNlbGVjdGlvblRpbWVvdXRNUyIsInNvY2tldFRpbWVvdXRNUyIsImNvbm5lY3QiLCJjb25uZWN0aW9uIiwiZGIiLCJhZG1pbiIsInBpbmciLCJlcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwiY29kZSIsImNvZGVOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api)/./models/Review.js":
/*!**************************!*\
  !*** ./models/Review.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst reviewSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    product_id: {\n        type: String,\n        required: [\n            true,\n            \"Product ID is required\"\n        ],\n        trim: true\n    },\n    user_id: {\n        type: String,\n        required: [\n            true,\n            \"User ID is required\"\n        ],\n        trim: true\n    },\n    rating: {\n        type: Number,\n        required: [\n            true,\n            \"Rating is required\"\n        ],\n        min: [\n            1,\n            \"Rating must be at least 1\"\n        ],\n        max: [\n            5,\n            \"Rating cannot be more than 5\"\n        ]\n    },\n    review_text: {\n        type: String,\n        required: [\n            true,\n            \"Review text is required\"\n        ],\n        trim: true,\n        minlength: [\n            10,\n            \"Review text must be at least 10 characters long\"\n        ]\n    },\n    images: [\n        {\n            type: String,\n            validate: {\n                validator: function(v) {\n                    return v.startsWith(\"http://\") || v.startsWith(\"https://\");\n                },\n                message: \"Image URL must be a valid URL\"\n            }\n        }\n    ],\n    helpful_count: {\n        type: Number,\n        default: 0,\n        min: [\n            0,\n            \"Helpful count cannot be negative\"\n        ]\n    },\n    user_measurements: {\n        waist: {\n            type: Number,\n            min: [\n                50,\n                \"Waist measurement must be at least 50cm\"\n            ],\n            max: [\n                150,\n                \"Waist measurement cannot be more than 150cm\"\n            ]\n        },\n        bust: {\n            type: Number,\n            min: [\n                50,\n                \"Bust measurement must be at least 50cm\"\n            ],\n            max: [\n                150,\n                \"Bust measurement cannot be more than 150cm\"\n            ]\n        },\n        hips: {\n            type: Number,\n            min: [\n                50,\n                \"Hips measurement must be at least 50cm\"\n            ],\n            max: [\n                150,\n                \"Hips measurement cannot be more than 150cm\"\n            ]\n        },\n        height: {\n            type: Number,\n            min: [\n                100,\n                \"Height must be at least 100cm\"\n            ],\n            max: [\n                250,\n                \"Height cannot be more than 250cm\"\n            ]\n        }\n    },\n    created_at: {\n        type: Date,\n        default: Date.now\n    },\n    updated_at: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    timestamps: {\n        createdAt: \"created_at\",\n        updatedAt: \"updated_at\"\n    }\n});\n// Middleware untuk memastikan updated_at selalu diupdate\nreviewSchema.pre(\"save\", function(next) {\n    this.updated_at = new Date();\n    next();\n});\n// Static method untuk mendapatkan statistik review\nreviewSchema.statics.getReviewStats = async function(productId) {\n    const stats = await this.aggregate([\n        {\n            $match: {\n                product_id: productId\n            }\n        },\n        {\n            $group: {\n                _id: null,\n                averageRating: {\n                    $avg: \"$rating\"\n                },\n                totalReviews: {\n                    $sum: 1\n                },\n                ratingDistribution: {\n                    $push: \"$rating\"\n                }\n            }\n        }\n    ]);\n    return stats[0] || {\n        averageRating: 0,\n        totalReviews: 0,\n        ratingDistribution: []\n    };\n};\nconst Review = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Review || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Review\", reviewSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Review);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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anM/YzJjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCByZXZpZXdTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICBwcm9kdWN0X2lkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnUHJvZHVjdCBJRCBpcyByZXF1aXJlZCddLFxuICAgICAgICB0cmltOiB0cnVlXG4gICAgfSxcbiAgICB1c2VyX2lkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXNlciBJRCBpcyByZXF1aXJlZCddLFxuICAgICAgICB0cmltOiB0cnVlXG4gICAgfSxcbiAgICByYXRpbmc6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdSYXRpbmcgaXMgcmVxdWlyZWQnXSxcbiAgICAgICAgbWluOiBbMSwgJ1JhdGluZyBtdXN0IGJlIGF0IGxlYXN0IDEnXSxcbiAgICAgICAgbWF4OiBbNSwgJ1JhdGluZyBjYW5ub3QgYmUgbW9yZSB0aGFuIDUnXVxuICAgIH0sXG4gICAgcmV2aWV3X3RleHQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdSZXZpZXcgdGV4dCBpcyByZXF1aXJlZCddLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgICAgICBtaW5sZW5ndGg6IFsxMCwgJ1JldmlldyB0ZXh0IG11c3QgYmUgYXQgbGVhc3QgMTAgY2hhcmFjdGVycyBsb25nJ11cbiAgICB9LFxuICAgIGltYWdlczogW3tcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IHYuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXNzYWdlOiAnSW1hZ2UgVVJMIG11c3QgYmUgYSB2YWxpZCBVUkwnXG4gICAgICAgIH1cbiAgICB9XSxcbiAgICBoZWxwZnVsX2NvdW50OiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgZGVmYXVsdDogMCxcbiAgICAgICAgbWluOiBbMCwgJ0hlbHBmdWwgY291bnQgY2Fubm90IGJlIG5lZ2F0aXZlJ11cbiAgICB9LFxuICAgIHVzZXJfbWVhc3VyZW1lbnRzOiB7XG4gICAgICAgIHdhaXN0OiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICBtaW46IFs1MCwgJ1dhaXN0IG1lYXN1cmVtZW50IG11c3QgYmUgYXQgbGVhc3QgNTBjbSddLFxuICAgICAgICAgICAgbWF4OiBbMTUwLCAnV2Fpc3QgbWVhc3VyZW1lbnQgY2Fubm90IGJlIG1vcmUgdGhhbiAxNTBjbSddXG4gICAgICAgIH0sXG4gICAgICAgIGJ1c3Q6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIG1pbjogWzUwLCAnQnVzdCBtZWFzdXJlbWVudCBtdXN0IGJlIGF0IGxlYXN0IDUwY20nXSxcbiAgICAgICAgICAgIG1heDogWzE1MCwgJ0J1c3QgbWVhc3VyZW1lbnQgY2Fubm90IGJlIG1vcmUgdGhhbiAxNTBjbSddXG4gICAgICAgIH0sXG4gICAgICAgIGhpcHM6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIG1pbjogWzUwLCAnSGlwcyBtZWFzdXJlbWVudCBtdXN0IGJlIGF0IGxlYXN0IDUwY20nXSxcbiAgICAgICAgICAgIG1heDogWzE1MCwgJ0hpcHMgbWVhc3VyZW1lbnQgY2Fubm90IGJlIG1vcmUgdGhhbiAxNTBjbSddXG4gICAgICAgIH0sXG4gICAgICAgIGhlaWdodDoge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgICAgbWluOiBbMTAwLCAnSGVpZ2h0IG11c3QgYmUgYXQgbGVhc3QgMTAwY20nXSxcbiAgICAgICAgICAgIG1heDogWzI1MCwgJ0hlaWdodCBjYW5ub3QgYmUgbW9yZSB0aGFuIDI1MGNtJ11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlZF9hdDoge1xuICAgICAgICB0eXBlOiBEYXRlLFxuICAgICAgICBkZWZhdWx0OiBEYXRlLm5vdyxcbiAgICB9LFxuICAgIHVwZGF0ZWRfYXQ6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gICAgfSxcbn0sIHtcbiAgICB0aW1lc3RhbXBzOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogJ2NyZWF0ZWRfYXQnLFxuICAgICAgICB1cGRhdGVkQXQ6ICd1cGRhdGVkX2F0J1xuICAgIH1cbn0pO1xuXG4vLyBNaWRkbGV3YXJlIHVudHVrIG1lbWFzdGlrYW4gdXBkYXRlZF9hdCBzZWxhbHUgZGl1cGRhdGVcbnJldmlld1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XG4gICAgdGhpcy51cGRhdGVkX2F0ID0gbmV3IERhdGUoKTtcbiAgICBuZXh0KCk7XG59KTtcblxuLy8gU3RhdGljIG1ldGhvZCB1bnR1ayBtZW5kYXBhdGthbiBzdGF0aXN0aWsgcmV2aWV3XG5yZXZpZXdTY2hlbWEuc3RhdGljcy5nZXRSZXZpZXdTdGF0cyA9IGFzeW5jIGZ1bmN0aW9uKHByb2R1Y3RJZCkge1xuICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5hZ2dyZWdhdGUoW1xuICAgICAgICB7ICRtYXRjaDogeyBwcm9kdWN0X2lkOiBwcm9kdWN0SWQgfSB9LFxuICAgICAgICB7XG4gICAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgICAgICBfaWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgYXZlcmFnZVJhdGluZzogeyAkYXZnOiAnJHJhdGluZycgfSxcbiAgICAgICAgICAgICAgICB0b3RhbFJldmlld3M6IHsgJHN1bTogMSB9LFxuICAgICAgICAgICAgICAgIHJhdGluZ0Rpc3RyaWJ1dGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAkcHVzaDogJyRyYXRpbmcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXSk7XG5cbiAgICByZXR1cm4gc3RhdHNbMF0gfHwge1xuICAgICAgICBhdmVyYWdlUmF0aW5nOiAwLFxuICAgICAgICB0b3RhbFJldmlld3M6IDAsXG4gICAgICAgIHJhdGluZ0Rpc3RyaWJ1dGlvbjogW11cbiAgICB9O1xufTtcblxuY29uc3QgUmV2aWV3ID0gbW9uZ29vc2UubW9kZWxzLlJldmlldyB8fCBtb25nb29zZS5tb2RlbCgnUmV2aWV3JywgcmV2aWV3U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUmV2aWV3O1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmV2aWV3U2NoZW1hIiwiU2NoZW1hIiwicHJvZHVjdF9pZCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJ1c2VyX2lkIiwicmF0aW5nIiwiTnVtYmVyIiwibWluIiwibWF4IiwicmV2aWV3X3RleHQiLCJtaW5sZW5ndGgiLCJpbWFnZXMiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsInYiLCJzdGFydHNXaXRoIiwibWVzc2FnZSIsImhlbHBmdWxfY291bnQiLCJkZWZhdWx0IiwidXNlcl9tZWFzdXJlbWVudHMiLCJ3YWlzdCIsImJ1c3QiLCJoaXBzIiwiaGVpZ2h0IiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJ1cGRhdGVkX2F0IiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInByZSIsIm5leHQiLCJzdGF0aWNzIiwiZ2V0UmV2aWV3U3RhdHMiLCJwcm9kdWN0SWQiLCJzdGF0cyIsImFnZ3JlZ2F0ZSIsIiRtYXRjaCIsIiRncm91cCIsIl9pZCIsImF2ZXJhZ2VSYXRpbmciLCIkYXZnIiwidG90YWxSZXZpZXdzIiwiJHN1bSIsInJhdGluZ0Rpc3RyaWJ1dGlvbiIsIiRwdXNoIiwiUmV2aWV3IiwibW9kZWxzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/Review.js\n");

/***/ }),

/***/ "(api)/./pages/api/reviews/[id]/index.js":
/*!*****************************************!*\
  !*** ./pages/api/reviews/[id]/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/mongodb */ \"(api)/./lib/mongodb.js\");\n/* harmony import */ var _models_Review__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../models/Review */ \"(api)/./models/Review.js\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n// Validasi input untuk update review\nconst validateUpdateInput = (data)=>{\n    const errors = [];\n    if (data.rating && (data.rating < 1 || data.rating > 5)) {\n        errors.push(\"Rating must be between 1 and 5\");\n    }\n    if (data.review_text && data.review_text.trim().length < 10) {\n        errors.push(\"Review text must be at least 10 characters long\");\n    }\n    if (data.user_measurements) {\n        const { waist, bust, hips, height } = data.user_measurements;\n        if (waist && (waist < 50 || waist > 150)) errors.push(\"Invalid waist measurement\");\n        if (bust && (bust < 50 || bust > 150)) errors.push(\"Invalid bust measurement\");\n        if (hips && (hips < 50 || hips > 150)) errors.push(\"Invalid hips measurement\");\n        if (height && (height < 100 || height > 250)) errors.push(\"Invalid height measurement\");\n    }\n    return errors;\n};\nasync function handler(req, res) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__.connectDB)();\n        const { id } = req.query;\n        console.log(\"Attempting to process review with ID:\", id);\n        // Validasi ID format\n        if (!id || !mongoose__WEBPACK_IMPORTED_MODULE_2___default().Types.ObjectId.isValid(id)) {\n            return res.status(400).json({\n                success: false,\n                message: \"Invalid review ID format. Must be a valid MongoDB ObjectId\",\n                example: \"Example: 67e2ebf5e54e45570e86ea58\"\n            });\n        }\n        switch(req.method){\n            case \"PUT\":\n                try {\n                    // Validasi input\n                    const validationErrors = validateUpdateInput(req.body);\n                    if (validationErrors.length > 0) {\n                        return res.status(400).json({\n                            success: false,\n                            message: \"Validation failed\",\n                            errors: validationErrors\n                        });\n                    }\n                    // Cek apakah review ada\n                    const existingReview = await _models_Review__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(id);\n                    if (!existingReview) {\n                        return res.status(404).json({\n                            success: false,\n                            message: \"Review not found\"\n                        });\n                    }\n                    // Update review\n                    const allowedUpdates = [\n                        \"rating\",\n                        \"review_text\",\n                        \"images\",\n                        \"user_measurements\"\n                    ];\n                    const updateData = {};\n                    Object.keys(req.body).forEach((key)=>{\n                        if (allowedUpdates.includes(key)) {\n                            updateData[key] = req.body[key];\n                        }\n                    });\n                    const review = await _models_Review__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(id, {\n                        $set: updateData,\n                        updated_at: new Date()\n                    }, {\n                        new: true,\n                        runValidators: true\n                    });\n                    console.log(\"Successfully updated review:\", review._id);\n                    return res.status(200).json({\n                        success: true,\n                        message: \"Review updated successfully\",\n                        data: review\n                    });\n                } catch (error) {\n                    console.error(\"Error updating review:\", error);\n                    return res.status(500).json({\n                        success: false,\n                        message: \"Error updating review\",\n                        error:  true ? error.message : 0\n                    });\n                }\n                break;\n            case \"DELETE\":\n                try {\n                    // Cek apakah review ada\n                    const existingReview = await _models_Review__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(id);\n                    if (!existingReview) {\n                        return res.status(404).json({\n                            success: false,\n                            message: \"Review not found\"\n                        });\n                    }\n                    await _models_Review__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndDelete(id);\n                    console.log(\"Successfully deleted review:\", id);\n                    return res.status(200).json({\n                        success: true,\n                        message: \"Review deleted successfully\",\n                        data: {\n                            id\n                        }\n                    });\n                } catch (error) {\n                    console.error(\"Error deleting review:\", error);\n                    return res.status(500).json({\n                        success: false,\n                        message: \"Error deleting review\",\n                        error:  true ? error.message : 0\n                    });\n                }\n                break;\n            default:\n                res.setHeader(\"Allow\", [\n                    \"PUT\",\n                    \"DELETE\"\n                ]);\n                return res.status(405).json({\n                    success: false,\n                    message: `Method ${req.method} Not Allowed`\n                });\n        }\n    } catch (error) {\n        console.error(\"Unhandled error:\", error);\n        return res.status(500).json({\n            success: false,\n            message: \"Internal Server Error\",\n            error:  true ? error.message : 0\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNFWCxJQUFJb0MsU0FBUyxDQUFDLFNBQVM7b0JBQUM7b0JBQU87aUJBQVM7Z0JBQ3hDLE9BQU9wQyxJQUFJUSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUMxQkMsU0FBUztvQkFDVEMsU0FBUyxDQUFDLE9BQU8sRUFBRVosSUFBSWMsTUFBTSxDQUFDLFlBQVksQ0FBQztnQkFDN0M7UUFDSjtJQUNGLEVBQUUsT0FBT29CLE9BQU87UUFDZDlCLFFBQVE4QixLQUFLLENBQUMsb0JBQW9CQTtRQUNsQyxPQUFPakMsSUFBSVEsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNUQyxTQUFTO1lBQ1RzQixPQUFPQyxLQUF5QixHQUFnQkQsTUFBTXRCLE9BQU8sR0FBRztRQUNsRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZXJlbnQtYmFja2VuZC8uL3BhZ2VzL2FwaS9yZXZpZXdzL1tpZF0vaW5kZXguanM/M2IwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0REIgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvbW9uZ29kYic7XHJcbmltcG9ydCBSZXZpZXcgZnJvbSAnLi4vLi4vLi4vLi4vbW9kZWxzL1Jldmlldyc7XHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG4vLyBWYWxpZGFzaSBpbnB1dCB1bnR1ayB1cGRhdGUgcmV2aWV3XHJcbmNvbnN0IHZhbGlkYXRlVXBkYXRlSW5wdXQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGVycm9ycyA9IFtdO1xyXG4gIFxyXG4gIGlmIChkYXRhLnJhdGluZyAmJiAoZGF0YS5yYXRpbmcgPCAxIHx8IGRhdGEucmF0aW5nID4gNSkpIHtcclxuICAgIGVycm9ycy5wdXNoKCdSYXRpbmcgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDUnKTtcclxuICB9XHJcblxyXG4gIGlmIChkYXRhLnJldmlld190ZXh0ICYmIGRhdGEucmV2aWV3X3RleHQudHJpbSgpLmxlbmd0aCA8IDEwKSB7XHJcbiAgICBlcnJvcnMucHVzaCgnUmV2aWV3IHRleHQgbXVzdCBiZSBhdCBsZWFzdCAxMCBjaGFyYWN0ZXJzIGxvbmcnKTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKGRhdGEudXNlcl9tZWFzdXJlbWVudHMpIHtcclxuICAgIGNvbnN0IHsgd2Fpc3QsIGJ1c3QsIGhpcHMsIGhlaWdodCB9ID0gZGF0YS51c2VyX21lYXN1cmVtZW50cztcclxuICAgIGlmICh3YWlzdCAmJiAod2Fpc3QgPCA1MCB8fCB3YWlzdCA+IDE1MCkpIGVycm9ycy5wdXNoKCdJbnZhbGlkIHdhaXN0IG1lYXN1cmVtZW50Jyk7XHJcbiAgICBpZiAoYnVzdCAmJiAoYnVzdCA8IDUwIHx8IGJ1c3QgPiAxNTApKSBlcnJvcnMucHVzaCgnSW52YWxpZCBidXN0IG1lYXN1cmVtZW50Jyk7XHJcbiAgICBpZiAoaGlwcyAmJiAoaGlwcyA8IDUwIHx8IGhpcHMgPiAxNTApKSBlcnJvcnMucHVzaCgnSW52YWxpZCBoaXBzIG1lYXN1cmVtZW50Jyk7XHJcbiAgICBpZiAoaGVpZ2h0ICYmIChoZWlnaHQgPCAxMDAgfHwgaGVpZ2h0ID4gMjUwKSkgZXJyb3JzLnB1c2goJ0ludmFsaWQgaGVpZ2h0IG1lYXN1cmVtZW50Jyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXJyb3JzO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBjb25uZWN0REIoKTtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBwcm9jZXNzIHJldmlldyB3aXRoIElEOicsIGlkKTtcclxuXHJcbiAgICAvLyBWYWxpZGFzaSBJRCBmb3JtYXRcclxuICAgIGlmICghaWQgfHwgIW1vbmdvb3NlLlR5cGVzLk9iamVjdElkLmlzVmFsaWQoaWQpKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgcmV2aWV3IElEIGZvcm1hdC4gTXVzdCBiZSBhIHZhbGlkIE1vbmdvREIgT2JqZWN0SWQnLFxyXG4gICAgICAgIGV4YW1wbGU6ICdFeGFtcGxlOiA2N2UyZWJmNWU1NGU0NTU3MGU4NmVhNTgnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAocmVxLm1ldGhvZCkge1xyXG4gICAgICBjYXNlICdQVVQnOlxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBWYWxpZGFzaSBpbnB1dFxyXG4gICAgICAgICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRlVXBkYXRlSW5wdXQocmVxLmJvZHkpO1xyXG4gICAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdWYWxpZGF0aW9uIGZhaWxlZCcsXHJcbiAgICAgICAgICAgICAgZXJyb3JzOiB2YWxpZGF0aW9uRXJyb3JzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIENlayBhcGFrYWggcmV2aWV3IGFkYVxyXG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdSZXZpZXcgPSBhd2FpdCBSZXZpZXcuZmluZEJ5SWQoaWQpO1xyXG4gICAgICAgICAgaWYgKCFleGlzdGluZ1Jldmlldykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdSZXZpZXcgbm90IGZvdW5kJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBVcGRhdGUgcmV2aWV3XHJcbiAgICAgICAgICBjb25zdCBhbGxvd2VkVXBkYXRlcyA9IFsncmF0aW5nJywgJ3Jldmlld190ZXh0JywgJ2ltYWdlcycsICd1c2VyX21lYXN1cmVtZW50cyddO1xyXG4gICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9O1xyXG4gICAgICAgICAgT2JqZWN0LmtleXMocmVxLmJvZHkpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgaWYgKGFsbG93ZWRVcGRhdGVzLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICAgICAgICB1cGRhdGVEYXRhW2tleV0gPSByZXEuYm9keVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBjb25zdCByZXZpZXcgPSBhd2FpdCBSZXZpZXcuZmluZEJ5SWRBbmRVcGRhdGUoXHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICRzZXQ6IHVwZGF0ZURhdGEsXHJcbiAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZSB9XHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgdXBkYXRlZCByZXZpZXc6JywgcmV2aWV3Ll9pZCk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1JldmlldyB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgICAgICAgIGRhdGE6IHJldmlld1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHJldmlldzonLCBlcnJvcik7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIHVwZGF0aW5nIHJldmlldycsXHJcbiAgICAgICAgICAgIGVycm9yOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGVycm9yLm1lc3NhZ2UgOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnREVMRVRFJzpcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gQ2VrIGFwYWthaCByZXZpZXcgYWRhXHJcbiAgICAgICAgICBjb25zdCBleGlzdGluZ1JldmlldyA9IGF3YWl0IFJldmlldy5maW5kQnlJZChpZCk7XHJcbiAgICAgICAgICBpZiAoIWV4aXN0aW5nUmV2aWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ1JldmlldyBub3QgZm91bmQnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGF3YWl0IFJldmlldy5maW5kQnlJZEFuZERlbGV0ZShpZCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgcmV2aWV3OicsIGlkKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnUmV2aWV3IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgICAgICAgZGF0YTogeyBpZCB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgcmV2aWV3OicsIGVycm9yKTtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgZGVsZXRpbmcgcmV2aWV3JyxcclxuICAgICAgICAgICAgZXJyb3I6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3IubWVzc2FnZSA6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydQVVQnLCAnREVMRVRFJ10pO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6IGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyxcclxuICAgICAgZXJyb3I6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3IubWVzc2FnZSA6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InXHJcbiAgICB9KTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbImNvbm5lY3REQiIsIlJldmlldyIsIm1vbmdvb3NlIiwidmFsaWRhdGVVcGRhdGVJbnB1dCIsImRhdGEiLCJlcnJvcnMiLCJyYXRpbmciLCJwdXNoIiwicmV2aWV3X3RleHQiLCJ0cmltIiwibGVuZ3RoIiwidXNlcl9tZWFzdXJlbWVudHMiLCJ3YWlzdCIsImJ1c3QiLCJoaXBzIiwiaGVpZ2h0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsImlkIiwicXVlcnkiLCJjb25zb2xlIiwibG9nIiwiVHlwZXMiLCJPYmplY3RJZCIsImlzVmFsaWQiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJleGFtcGxlIiwibWV0aG9kIiwidmFsaWRhdGlvbkVycm9ycyIsImJvZHkiLCJleGlzdGluZ1JldmlldyIsImZpbmRCeUlkIiwiYWxsb3dlZFVwZGF0ZXMiLCJ1cGRhdGVEYXRhIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJpbmNsdWRlcyIsInJldmlldyIsImZpbmRCeUlkQW5kVXBkYXRlIiwiJHNldCIsInVwZGF0ZWRfYXQiLCJEYXRlIiwibmV3IiwicnVuVmFsaWRhdG9ycyIsIl9pZCIsImVycm9yIiwicHJvY2VzcyIsImZpbmRCeUlkQW5kRGVsZXRlIiwic2V0SGVhZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/reviews/[id]/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Freviews%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Creviews%5C%5Bid%5D%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();